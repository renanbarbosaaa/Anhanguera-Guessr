<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anhanguera Guessr - Descubra o Local</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  
    <div id="registrationScreen" class="screen active">
        <div class="registration-container">
            <div class="background-image"></div>
            
            <div class="registration-card">
                <div class="logo-container">
                    <h1>Anhanguera Guessr</h1>
                    <p class="subtitle">Primeira Turma de DS - 2024/2025</p>
                </div>
                <div class="form-group">
                    <label for="playerName">Seu Nome:</label>
                    <input type="text" id="playerName" placeholder="Digite seu nome completo" maxlength="20">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="playerYear">Sua S√©rie:</label>
                        <select id="playerYear" class="form-select">
                            <option value="">Selecione o ano</option>
                            <option value="1">1¬∫ Ano</option>
                            <option value="2">2¬∫ Ano</option>
                            <option value="3">3¬∫ Ano</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="playerClass">Turma:</label>
                        <select id="playerClass" class="form-select">
                            <option value="">Selecione a turma</option>
                            <option value="A">A</option>
                            <option value="A ADM">A ADM</option>
                            <option value="B">B</option>
                            <option value="B DS">B DS</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                        </select>
                    </div>
                </div>
                <div class="selected-info">
                    <div id="selectedName" class="hidden">üë§ Nome: <span></span></div>
                    <div id="selectedSerie" class="hidden">üéì S√©rie: <span></span></div>
                </div>
                <button id="startGameBtn" class="start-btn disabled" disabled>üéØ Iniciar Jogo</button>
                <button id="openLeaderboardBtn" class="start-btn" style="margin-top:10px; background:#ffd166; color:#000;">üèÜ Ver Ranking</button>
            </div>
        </div>
    </div>

    <div id="gameScreen" class="screen">
        <div class="panorama-container">
            <img id="currentPhoto" src="" alt="Foto do local">
            <div class="photo-overlay-instruction">
                <p>Onde esta foto foi tirada?</p>
            </div>
        </div>

        <button id="exitGameBtn" class="exit-game-btn" title="Voltar ao Menu">üè† Sair</button>

        <div class="game-hud">
            <div class="hud-item player-info">
                üë§ <span id="currentPlayerName"></span> (<span id="currentPlayerSerie"></span>)
            </div>
            <div class="hud-item timer-info">
                ‚è±Ô∏è <span id="timer">30</span>s
            </div>
            <div class="hud-item score-info">
                üèÜ <span id="score">0</span> pts
            </div>
            <div class="hud-item round-info">
                üìç <span id="round">1</span>/5
            </div>
        </div>

        <div class="mini-map-wrapper" id="miniMapWrapper">
            <div class="map-header-small">
                <span>üó∫Ô∏è Passe o mouse para ampliar</span>
            </div>
            
            <div class="map-container">
                <img id="schoolMap" src="Imagens/PlantaBaixaAnhanguera.png" alt="Planta da Escola">
                <div class="map-overlay" id="mapOverlay"></div>
            </div>
            
            <button id="confirmGuess" class="confirm-btn">‚úÖ Confirmar</button>
        </div>
    </div>

    <div id="roundResultScreen" class="screen">
        <div class="result-container">
            <div class="result-card">
                <div id="resultIcon" class="result-icon">üéØ</div>
                <h2 id="resultTitle">Resultado</h2>
                <div id="resultMessage" class="result-message"></div>
                <div class="round-stats">
                    <div class="stat">
                        <span class="stat-label">Pontos Ganhos:</span>
                        <span id="pointsEarned" class="stat-value">+0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Pontua√ß√£o Total:</span>
                        <span id="totalScore" class="stat-value">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Pr√≥xima Rodada:</span>
                        <span id="nextRoundNumber" class="stat-value">2/5</span>
                    </div>
                </div>
                <button id="nextRoundBtn" class="next-round-btn">üéØ Pr√≥xima Rodada ‚Üí</button>
            </div>
        </div>
    </div>

    <div id="gameOverScreen" class="screen">
        <div class="game-over-container">
            <div class="game-over-card">
                <div class="trophy">üèÜ</div>
                <h1>Jogo Conclu√≠do!</h1>
                <div class="final-stats">
                    <div class="final-stat">
                        <span class="final-label">Jogador:</span>
                        <span id="finalPlayerName" class="final-value"></span>
                    </div>
                    <div class="final-stat">
                        <span class="final-label">S√©rie:</span>
                        <span id="finalPlayerSerie" class="final-value"></span>
                    </div>
                    <div class="final-stat highlight">
                        <span class="final-label">Pontua√ß√£o Final:</span>
                        <span id="finalScore" class="final-value">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-label">Desempenho:</span>
                        <span id="performance" class="final-value">Incr√≠vel!</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-label">Posi√ß√£o no Ranking:</span>
                        <span id="finalPlayerRank" class="final-value">-</span>
                    </div>
                </div>
                <div class="final-actions">
                    <button id="playAgainBtn" class="play-again-btn">üîÑ Jogar Novamente</button>
                    <button id="backToMenuBtn" class="change-player-btn">üè† Voltar ao Menu</button>
                    <button id="saveToLeaderboardBtn" class="start-btn" style="margin-top:10px; background:#ffd166; color:#000;">üíæ Salvar no Ranking</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tela do Ranking -->
    <div id="leaderboardScreen" class="screen">
        <div class="leaderboard-container">
            <div class="leaderboard-card">
                <h1>üèÜ Ranking - Top 10</h1>
                <table id="leaderboardTable" class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Jogador</th>
                            <th>S√©rie</th>
                            <th>Pontos</th>
                            <th>Data</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <div class="leaderboard-actions">
                    <button id="exportLeaderboardBtn" class="change-player-btn">‚¨áÔ∏è Exportar JSON</button>
                    <button id="importLeaderboardBtn" class="change-player-btn">‚¨ÜÔ∏è Importar JSON</button>
                    <input id="importJsonInput" type="file" accept="application/json" style="display:none;" />
                    <label style="display:flex; align-items:center; gap:8px;" title="Baixa automaticamente um arquivo JSON com o ranking sempre que voc√™ salvar">
                        <input type="checkbox" id="autoBackupCheckbox"> Auto‚Äìbackup (JSON)
                    </label>
                    <button id="clearLeaderboardBtn" class="change-player-btn">üßπ Limpar Ranking</button>
                    <button id="closeLeaderboardBtn" class="play-again-btn">‚Ü©Ô∏è Voltar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>